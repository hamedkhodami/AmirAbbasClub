{% extends 'base/base.html' %}

{% block title %}ÙˆØ±Ø²Ø´Ú©Ø§Ø±Ø§Ù† Ø±ÙˆØ² {{ selected_day }}{% endblock %}

{% block body %}
<div class="max-w-5xl mx-auto py-10 px-4 text-white">
  <h2 class="text-2xl font-bold text-center text-red-500 mb-6">
    ğŸ—“ï¸ ÙˆØ±Ø²Ø´Ú©Ø§Ø±Ø§Ù† Ø¨Ø§ ØªØ§Ø±ÛŒØ® Ù¾Ø±Ø¯Ø§Ø®Øª Ø±ÙˆØ² {{ selected_day }}
  </h2>
  <hr class="border-gray-700 mb-6">

  <div class="flex justify-center mb-8">
    <a href="{% url 'public:home' %}"
       class="bg-white text-gray-900 font-semibold px-5 py-2 rounded-lg shadow hover:bg-gray-200 transition">
      ğŸ  Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
    </a>
  </div>

  <form method="get" class="flex justify-center mb-8 gap-2">
    <input type="text" name="q" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†Ø§Ù…..."
           value="{{ request.GET.q }}"
           class="w-full max-w-sm px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500">
    <button type="submit"
            class="bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 rounded-lg shadow">
      Ø¬Ø³ØªØ¬Ùˆ
    </button>
  </form>

  {% if athletes %}
    <ul class="space-y-4">
      {% for athlete in athletes %}
        <li class="bg-gray-800 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between shadow">
          <div class="mb-2 sm:mb-0">
            <span class="font-bold text-lg text-white">{{ athlete.full_name }}</span>
            <span class="text-gray-400 text-sm ml-2">ğŸ“ {{ athlete.phone_number }}</span>
          </div>
          <div class="flex gap-2">
            <a href="{% url 'apps.payment:payment_create' athlete.id %}"
               class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-semibold">
              ğŸ’³ Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ù‡Ø±ÛŒÙ‡
            </a>
            <a href="{% url 'apps.payment:payment_profile' athlete.id %}"
               class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold">
              ğŸ“Š ÙˆØ¶Ø¹ÛŒØª Ù¾Ø±Ø¯Ø§Ø®Øª
            </a>
          </div>
        </li>
      {% endfor %}
    </ul>

    {% if is_paginated %}
      <div class="mt-8 flex justify-center items-center gap-4 text-sm text-gray-300">
        {% if page_obj.has_previous %}
          <a href="?page={{ page_obj.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}"
             class="px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-lg">â† Ù‚Ø¨Ù„ÛŒ</a>
        {% endif %}
        <span>ØµÙØ­Ù‡ {{ page_obj.number }} Ø§Ø² {{ page_obj.paginator.num_pages }}</span>
        {% if page_obj.has_next %}
          <a href="?page={{ page_obj.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}"
             class="px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded-lg">Ø¨Ø¹Ø¯ÛŒ â†’</a>
        {% endif %}
      </div>
    {% endif %}
  {% else %}
    <p class="text-center text-red-400 mt-6">Ù‡ÛŒÚ† ÙˆØ±Ø²Ø´Ú©Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø±ÙˆØ² ÛŒØ§ÙØª Ù†Ø´Ø¯.</p>
  {% endif %}
</div>
{% endblock %}